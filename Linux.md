# Linux

## 网络连接的三种方式

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/1.png)

1. **桥接模式：**虚拟系统可以和外部系统通讯，但是容易造成IP冲突
2. **NAT模式：**网络地址转换模式，虚拟系统可以和外部系统通讯，不造成IP冲突。但是外部系统无法和虚拟系统通讯
3. **主机模式：**独立的系统，不和外部系统通讯

## 虚拟机快照

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/2.png)



## 目录结构

**级层式的树状目录结构**

**“在Linux世界里，一切皆文件”**

**Linux会把硬件映射成文件来进行管理**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/3.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/4.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/5.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/6.png)

```shell
[root@Jomo01 ~]# useradd jack
[root@Jomo01 ~]# userdel -r jack
```

## 远程登录

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/7.png)

## vi和vim编辑器

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/8.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/9.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/10.png)

## 关机、重启和用户登录注销指令

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/11.png)

```shell
su jomo #切换到jomo用户
exit #退出jomo用户到root
exit #再exit就是退出shell回话了
```

## 用户管理

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/12.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/13.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/14.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/15.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/16.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/17.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/18.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/19.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/20.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/21.png)

## 指定运行级别

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/22.png)

## 找回root密码

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/23.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/24.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/25.png)

## 帮助指令

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/26.png)

## 文件目录指令

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/27.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/28.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/29.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/30.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/31.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/32.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/33.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/34.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/35.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/36.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/37.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/38.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/39.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/40.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/41.png)

## 时间日期类

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/42.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/43.png)

## 查找指令

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/44.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/45.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/46.png)

## 压缩和解压

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/47.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/48.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/49.png)

## Linux组的介绍

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/50.png)

## 所有者

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/51.png)

## 所有组

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/52.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/53.png)

## 修改所在组

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/54.png)

## Linux_rwx权限

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/55.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/56.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/57.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/58.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/59.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/60.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/61.png)

**案例：**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/62.png)

```shell
[root@Jomo01 home]# groupadd police && groupadd bandit
[root@Jomo01 home]# useradd -g police jack && useradd -g police jerry
[root@Jomo01 home]# useradd -g bandit xh && useradd -g bandit xq
[jack@Jomo01 home]$ cd ~
[jack@Jomo01 ~]$ vim jack.txt
[jack@Jomo01 ~]$ ll
总用量 4
-rw-r--r--. 1 jack police 6 4月  16 15:16 jack.txt
[jack@Jomo01 ~]$ chmod 640 jack.txt
[jack@Jomo01 ~]$ ll
总用量 4
-rw-r-----. 1 jack police 6 4月  16 15:16 jack.txt
[jack@Jomo01 ~]$ chmod o=r,g=r jack.txt
[jack@Jomo01 ~]$ ll
总用量 4
-rw-r--r--. 1 jack police 6 4月  16 15:16 jack.txt
[jack@Jomo01 ~]$ chmod o=r,g+w jack.txt
[jack@Jomo01 ~]$ ll
总用量 4
-rw-rw-r--. 1 jack police 6 4月  16 15:16 jack.txt
```

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/63.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/64.png)

```shell
[root@Jomo01 home]# groupadd sx
[root@Jomo01 home]# groupadd yg
[root@Jomo01 home]# useradd ts
[root@Jomo01 home]# useradd wk
[root@Jomo01 home]# useradd bj
[root@Jomo01 home]# useradd ss
[root@Jomo01 home]# passwd ts
[root@Jomo01 home]# passwd wk
[root@Jomo01 ~]# passwd bj
[root@Jomo01 ~]# passwd bj
[root@Jomo01 ~]# usermod -g yg wk
[root@Jomo01 ~]# usermod -g yg bj
[root@Jomo01 ~]# usermod -g sx ts
[root@Jomo01 ~]# usermod -g sx ss
[root@Jomo01 ~]# su wk
[wk@Jomo01 root]$ cd ~
[wk@Jomo01 ~]$ vim monkey.java
[wk@Jomo01 ~]$ ll
总用量 4
-rw-r--r--. 1 wk yg 12 4月  16 15:41 monkey.java
[wk@Jomo01 ~]$ chmod g+w monkey.java

对文件夹的rwx：
r：可以使用ls指令展示目录
w：可以对文件夹增删
x：bj和wk是同一个组，如果wk对同组人只开启执行权限x，那么bj进入wk目录后，无法展示目录文件，但是依然可以读写文件
```

## Linux_crond快速入门

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/65.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/66.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/67.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/68.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/69.png)

**应用实例**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/70.png)

```shell
案例1：
#编辑crond任务调度
crontab -e
#每隔1分钟就将date重定义输出到mydate文件里，内容如下
*/1 * * * * date >> /tmp/mydate

案例2：
#1.写一个shell脚本my.sh，内容如下：
date >> /home/mycal
cal >> /home/mycal
#2.目前没有my.sh的执行权限，手动添加，x就是执行权限
chmod u+x my.sh
#3.执行my.sh，home目录下出现mycal文件
./my.sh
#4.目标：每隔一分钟执行一次my.sh
crontab -e
#内容如下：
*/1 * * * * /home/my.sh

案例3：
#1.编辑crond
crontab -e
#2.内容如下：(0 2)->(2时0分，24h制)
0 2 * * * mysqldump -u root -proot testdb > /home/db.bak
```

## Linux_at任务调度机制

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/71.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/72.png)    

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/73.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/74.png)

```shell
#检测atd是否在运行
ps -ef | grep atd
```

**应用实例**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/75.png)

```shell
案例1：
at 5pm + 2 days
#输入
at> /bin/ls /home
#输入后，连续输入ctrl+d两次！！
#输出
at> /bin/ls /home<EOT>
job 1 at Wed May  3 17:00:00 2023

案例2：
#查询
atq
#输出
1	Wed May  3 17:00:00 2023 a root

案例3：
at 5pm tomorrow
#输入
at> date > /root/date.log
#输出
at> date > /root/date100.log<EOT>
job 3 at Tue May  2 17:00:00 2023

案例4：
at now + 2 minutes
#输入
at> date > /root/date200.log
#输出
at> date > /root/date200.log<EOT>
job 4 at Mon May  1 10:49:00 2023

案例5：
#删掉编号是1的任务
atrm 1
```

**总结：**

- crond任务调度是周期性的
- at任务调度是一次性的

## Linux_磁盘分区机制

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/76.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/77.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/78.png)

**Linux_增加磁盘应用实例**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/79.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/80.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/81.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/82.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/83.png)

**磁盘情况查询**

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/84.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/85.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/86.png)
## Linux_NAT网络原理图

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/87.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/88.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/89.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/90.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/91.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/92.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/93.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/94.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/95.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/96.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/97.png)

## Linux_进程管理

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/98.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/99.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/100.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/101.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/102.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/103.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/104.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/105.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/107.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/108.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/109.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/111.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/112.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/113.png)

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/114.png)

终止指定进程输入进程ID后，还需要输入信号量，输入9强制终止

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/115.png)

如果用户退出后，连接不会立马断掉，因为TCP协议下，外部端口可能会认为是网络延迟导致没有信息收发，所以会从ESTABLISHED转成TIME_WAIT，超时了才会断开

![](https://github.com/Jomocool/Operator-System/blob/main/Linux-img/116.png)
